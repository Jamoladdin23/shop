{% extends 'store/base.html' %}

{% load static %}

{% block title %}{{ product.name }}{% endblock %}

{% block content %}
<div class="product-detail">
    <h2>{{ product.name }}</h2>
    <p>–¶–µ–Ω–∞: {{ product.price }}</p>

    {% if product.photo %}
    <img src="{{ product.photo.url }}" alt="{{ product.name }}" style="width:300px; height:auto;">
    {% endif %}

    <div class="product-gallery">
        {% for image in product.images.all %}
        <img src="{{ image.image.url }}" alt="–§–æ—Ç–æ {{ product.name }}" class="gallery-image"
             style="width:100px; height:auto;">
        {% endfor %}
    </div>

    <p>–û–ø–∏—Å–∞–Ω–∏–µ: {{ product.description }}</p>

    <!-- CSRF-—Ç–æ–∫–µ–Ω –¥–ª—è JavaScript -->
    <input type="hidden" id="csrf_token" value="{{ csrf_token }}">

    <div class="product-buttons">

        <form method="post" action="{% url 'place_order_product' product.id %}">
                    {% csrf_token %}
                    {{ form.as_p }}
<!--                        <a href="{% url 'place_order' %}" class="checkout-btn">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</a>-->

                    <button type="submit" id="order-button">Zakaz</button>
<!--                    <label for="quantity">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:</label>-->
<!--                    <input type="number" name="quantity" id="quantity" value="1" min="1" required>-->
                </form>

<!--        <form id="order-form" method="post" action="{% url 'place_order_product' product.id %}">-->
<!--            {% csrf_token %}-->
<!--            {{ form.as_p }}-->

<!--            <button type="submit" id="order-button">üöö Zakaz</button>-->

<!--        </form>-->
        <button class="add-to-cart button" data-product-id="{{ product.id }}">
            <i class="fas fa-shopping-cart"></i>
        </button>
        <!--        <button class="add-to-cart" data-product-id="{{ product.id }}">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>-->
    </div>

</div>

{% endblock %}

